{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "pyenv": {
    "enabled": true
  },
  "schedule": [
    "before 4am on the 1st day of the month",
    "before 4am on the 15th day of the month"
  ],
  "timezone": "America/Vancouver",
  "labels": [
    "dependencies"
  ],
  "vulnerabilityAlerts": {
    "schedule": []
  },
  "packageRules": [
    {
      "description": "Group all non-major dependencies to reduce noise",
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "groupName": "all non-major dependencies",
      "automerge": false
    },
    {
      "description": "Automerge all minor/patch updates for dev dependencies (safe)",
      "matchDepTypes": [
        "dev",
        "dependency-groups"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "automerge": true
    },
    {
      "description": "GitHub Actions: allow Python 3.13 patch upgrades only (block 3.14+)",
      "matchManagers": [
        "github-actions"
      ],
      "matchDatasources": [
        "github-releases"
      ],
      "matchDepNames": [
        "python"
      ],
      "allowedVersions": "/^3\\.13\\./"
    },
    {
      "description": "Pin Python Docker and Pyenv to 3.13.x",
      "matchManagers": [
        "dockerfile",
        "pyenv"
      ],
      "matchPackageNames": [
        "python"
      ],
      "allowedVersions": "3.13.x"
    },
    {
      "matchPackageNames": [
        "streamlit"
      ],
      "minimumReleaseAge": "3 days"
    },
    {
      "description": "Explicitly automerge formatters/linters if not caught by dev rule",
      "matchManagers": [
        "ruff",
        "mypy"
      ],
      "automerge": true
    }
  ],
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": [
      "before 4am on the first day of the month"
    ],
    "automerge": true
  }
}
